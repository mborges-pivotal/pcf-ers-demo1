<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/layout :: head">
</head>

<body>


	<nav th:replace="fragments/layout :: navigation"></nav>
	<!--  PAGE BODY -->
	<div class="container" role="main">

		<span id="tutorialName" style="display: none;">services</span>

		<div class="page-header">
			<p>&nbsp;</p>
			<h1>Services</h1>
		</div>


		<div class="row">
			<div class="col-md-12">
				<p>By now we understand a bit about how applications are being
					managed in PCF, what about services? Let's think of services as
					external application dependencies like a datastore or messaging
					system. But it can represent many other things that we would not
					typically think of it.</p>

				<p>Remember the application diagram from the main page?</p>

				<p>
					We often hear about <b>The Twelve-Factor App</b> as a great
					methodology for building modern applications. Pivotal Cloud Foundry
					Service strategy is very much like <a
						href="http://12factor.net/backing-services">IV - Backing
						Services factor</a>. Services are <i>attached</i>, in PCF case, <i>bound</i>
					to applications.
				</p>
			</div>

		</div>


		<div class="row">

			<div class="col-md-8">

				<h4>Attendees Database Tool</h4>

				<div class="col-md-4">
					<div class="panel panel-default">
						<div class="panel-body">
							<form id="attendee-form" action="add-attendee" method="post"
								role="form">
								<div class="form-group required">
									<label>First Name</label> <input type="text"
										class="form-control" required="required" id="firstName"
										name="firstName"></input>
								</div>
								<div class="form-group">
									<label>Last Name</label> <input type="text"
										class="form-control" required="required" id="lastName"
										name="lastName"></input>
								</div>
								<div class="form-group">
									<label>Email</label> <input type="email" class="form-control"
										required="required" id="emailAddress" name="emailAddress"></input>
								</div>
								<a type="submit" href="javascript: addAttendee()"
									class="btn btn-primary center-block">Add</a>
							</form>
						</div>
					</div>
				</div>

				<div class="col-md-8">
					<a href="javascript:retrieveAttendees()" class="btn btn-default">Search
						by First Name</a> <span><input type="text" id="searchFirstName"
						name="firstName" />&nbsp;</span>
					<p />
					<div th:replace="fragments/list :: attendeeList">
						<p>Attendees Table</p>
					</div>

				</div>
			</div>

			<div class="col-md-4">
				<div th:replace="fragments/layout :: tutorial"></div>
			</div>

		</div>
		<!-- ROW -->

	</div>
	<!-- CONTAINER -->

	<!--  /.PAGE BODY -->

	<footer th:replace="fragments/layout :: footer" class="footer">
	</footer>

	<script th:replace="fragments/layout :: app-instance-script"></script>

	<script>
		function addAttendee() {
			$.post("add-attendee", $("#attendee-form").serialize()).done(
					function(data) {
						retrieveAttendees();
					});
			$("#attendee-form")[0].reset();
			console.log("addAteendee - END");
		}

		function retrieveAttendees() {
			var url = '/search-attendees-fn';

			if ($('#searchFirstName').val() != '') {
				url = url + '?firstName=' + $('#searchFirstName').val();
			}

			$("#resultsBlock").load(url);
		}
	</script>
</body>

</html>